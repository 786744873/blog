---
title: Linux下安装MySQL5.x
date: 2021-10-16
sidebar: auto
categories:
 - mysql
tags:
 - mysql
---

## Linux下安装MySql5.x步骤✨

```shell
# wget http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm
# 或
wget http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm

rpm -ivh mysql-community-release-el7-5.noarch.rpm
# yum install mysql-community-server
# service mysqld restart
# mysql -uroot
> SET PASSWORD FOR root@localhost = password('密码'); # 上引号复制后仍是中文

# mysq5版本设置远程访问mysql，所有操作、以root用户、所有ip来源
> grant all privileges on *.* to 'w2personnel'@'%' identified by 'w2personnelsys';
> flush privileges;

# 查看服务是否启动：
> service mysqld status
```

## 常用命令🧨

```shell
#设置安全选项：
mysql_secure_installation

#关闭MySQL
systemctl stop mysqld 

#重启MySQL
systemctl restart mysqld 

#查看MySQL运行状态
systemctl status mysqld 

#设置开机启动
systemctl enable mysqld 

#关闭开机启动
systemctl disable mysqld

#查看版本
select version();

# 修改root密码
ALTER USER 'root'@'localhost' IDENTIFIED BY 'xhxt42';
```

## MySql安装常见错误💢
### 1142错误
```shell
1142 - SELECT command denied to user 'root_ssm'@'localhost' for table 'user'

# 错误信息的字面意思是：表“user”拒绝用户“root_ssm”@“localhost”的SELECT命令 ，很明显用户没有查看user表的权限，用管理员账号给他授权就行了
```
### 解决方案
**1、使用客户端授权（Navicat Premium 12）**

```sql
-- 使用root用户登陆mysql
use mysql;

select * from user where user='user';

-- SQL语句where后面的条件写要授权的那个用户名
```

<p>
<img :src="$withBase('/mysql/mysql1001.png')" alt="mysql1001" class="medium-zoom-image">
</p>
**上图标红的地方的值为‘N’，表示没有权限，将其改为Y就行了。**

**2、使用Mysql的命令行客户端**

<p>
<img :src="$withBase('/mysql/mysql1002.png')" alt="mysql1002" class="medium-zoom-image">
</p>

```sql
use mysql;

select * from user where user='w2user';
```



<p>
<img :src="$withBase('/mysql/mysql1003.png')" alt="mysql1003" class="medium-zoom-image">
</p>

**修改root用户的localhost权限**

```sql
update user set Select_priv='Y' where user='middleuser';

-- 根据查询结果中的列名，一个一个的写update语句修改，
-- 全部改好后再刷新MySQL的系统权限相关表：
flush privileges;
```

